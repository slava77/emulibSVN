-- Generated by Oracle SQL Developer Data Modeling Version: 1.5.1 Build: 525
--   at:        2009-06-05 16:49:13
--   for:       Oracle Database 10g
--              Oracle Database 10g



DROP TABLE DQM_RUN_DDU_INPUT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_DDU_TRAILER CASCADE CONSTRAINTS 
;
DROP TABLE DQM_SEVERITY CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN CASCADE CONSTRAINTS 
;
DROP TABLE DQM_CRATE_SLOT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_CHAMBER CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_CHAMBER_FORMAT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_CHAMBER_HV_SEGMENT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_CRATE CASCADE CONSTRAINTS 
;
DROP TABLE DQM_CHAMBER_FORMAT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_SEVERITY_RANGE CASCADE CONSTRAINTS 
;
DROP TABLE DQM_DDU CASCADE CONSTRAINTS 
;
DROP TABLE DQM_DDU_FORMAT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_CHAMBER CASCADE CONSTRAINTS 
;
DROP TABLE DQM_SEVERITY_GROUP CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_DDU CASCADE CONSTRAINTS 
;
DROP TABLE DQM_DDU_TRAILER CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_CHAMBER_LAYER CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_CFEB CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_DDU_FORMAT CASCADE CONSTRAINTS 
;
DROP TABLE DQM_RUN_CFEB_LAYER CASCADE CONSTRAINTS 
;
CREATE TABLE DQM_RUN_DDU_INPUT 
    ( 
     RDI_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RDI_DDU_NUMBER NUMBER (3)  NOT NULL , 
     RDI_DDU_INPUT NUMBER (2)  NOT NULL , 
     RDI_EVENTS NUMBER (12) DEFAULT 0  NOT NULL , 
     RDI_WITH_DATA NUMBER (12) DEFAULT 0  NOT NULL , 
     RDI_ERRORS NUMBER (12) DEFAULT 0  NOT NULL , 
     RDI_WARNINGS NUMBER (12) DEFAULT 0  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_DDU_INPUT 
    ADD CONSTRAINT PK_RUN_DDU_INPUT PRIMARY KEY ( RDI_DDU_NUMBER, RDI_RUN_NUMBER, RDI_DDU_INPUT ) ;


CREATE TABLE DQM_RUN_DDU_TRAILER 
    ( 
     RDT_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RDT_DDU_NUMBER NUMBER (3)  NOT NULL , 
     RDT_DUT_BIT NUMBER (2)  NOT NULL , 
     RDT_VALUE NUMBER (12)  NOT NULL , 
     RDT_ISERR NUMBER (2) 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_DDU_TRAILER 
    ADD CONSTRAINT PK_DQM_RUN_DDU_TRAILER PRIMARY KEY ( RDT_RUN_NUMBER, RDT_DDU_NUMBER, RDT_DUT_BIT ) ;


CREATE TABLE DQM_SEVERITY 
    ( 
     SEV_ID NUMBER (2)  NOT NULL , 
     SEV_NAME VARCHAR2 (30)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_SEVERITY 
    ADD CONSTRAINT PK_DQM_SEVERITY PRIMARY KEY ( SEV_ID ) ;

ALTER TABLE DQM_SEVERITY 
    ADD CONSTRAINT DQM_SEVERITY_UK UNIQUE ( SEV_NAME ) 
;


CREATE TABLE DQM_RUN 
    ( 
     RUN_NUMBER NUMBER (10)  NOT NULL , 
     RUN_CREATED DATE DEFAULT sysdate  NOT NULL , 
     RUN_DDU_AVG_EVENTS NUMBER (12) DEFAULT 0  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_RUN 
    ADD CONSTRAINT PK_RUN PRIMARY KEY ( RUN_NUMBER ) ;


CREATE TABLE DQM_CRATE_SLOT 
    ( 
     CSL_CRT_NUMBER NUMBER (2)  NOT NULL , 
     CSL_SLOT NUMBER (2)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_CRATE_SLOT 
    ADD CONSTRAINT PK_DQM_CRATE_SLOT PRIMARY KEY ( CSL_SLOT, CSL_CRT_NUMBER ) ;


CREATE TABLE DQM_CHAMBER 
    ( 
     CHA_ID NUMBER (5)  NOT NULL , 
     CHA_DDU_NUMBER NUMBER (3)  NOT NULL , 
     CHA_DDU_INPUT NUMBER (2)  NOT NULL , 
     CHA_CSL_SLOT NUMBER (2)  NOT NULL , 
     CHA_CRT_NUMBER NUMBER (2)  NOT NULL , 
     CHA_ENDCAP NUMBER (1)  NOT NULL CHECK ( CHA_ENDCAP IN ('1' , '2' )) , 
     CHA_STATION NUMBER (1)  NOT NULL , 
     CHA_RING NUMBER (1)  NOT NULL , 
     CHA_CHAMBER NUMBER (2)  NOT NULL , 
     CHA_LABEL VARCHAR2 (11)  NOT NULL , 
     CHA_WIREGROUPS NUMBER (3) DEFAULT 64  NOT NULL , 
     CHA_STRIPS NUMBER (2) DEFAULT 80  NOT NULL , 
     CHA_CFEBS NUMBER (1) DEFAULT 5  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_CHAMBER 
    ADD CONSTRAINT PK_CHAMBER PRIMARY KEY ( CHA_ID ) ;

ALTER TABLE DQM_CHAMBER 
    ADD CONSTRAINT CHA_NUMBERS_UK2 UNIQUE ( CHA_LABEL ) 
;

ALTER TABLE DQM_CHAMBER 
    ADD CONSTRAINT CHA_NUMBERS_UK1 UNIQUE ( CHA_ENDCAP , CHA_STATION , CHA_RING , CHA_CHAMBER ) 
;

ALTER TABLE DQM_CHAMBER 
    ADD CONSTRAINT CHA_DDU_UK3 UNIQUE ( CHA_DDU_INPUT , CHA_DDU_NUMBER ) 
;


CREATE TABLE DQM_RUN_CHAMBER_FORMAT 
    ( 
     RCF_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RCF_CHA_ID NUMBER (5)  NOT NULL , 
     RCF_CHF_BIT NUMBER (2)  NOT NULL , 
     RCF_VALUE NUMBER (12)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_CHAMBER_FORMAT 
    ADD CONSTRAINT PK_DQM_RUN_CHAMBER_FORMAT PRIMARY KEY ( RCF_CHF_BIT, RCF_RUN_NUMBER, RCF_CHA_ID ) ;


CREATE TABLE DQM_CHAMBER_HV_SEGMENT 
    ( 
     CHS_CHA_ID NUMBER (5)  NOT NULL , 
     CHS_NUMBER NUMBER (1)  NOT NULL , 
     CHS_CHANNELS NUMBER (3)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_CHAMBER_HV_SEGMENT 
    ADD CONSTRAINT PK_DQM_CHAMBER_HV_SEGMENT PRIMARY KEY ( CHS_NUMBER, CHS_CHA_ID ) ;


CREATE TABLE DQM_CRATE 
    ( 
     CRT_NUMBER NUMBER (2)  NOT NULL , 
     CRT_STATION NUMBER (1)  NOT NULL , 
     CRT_POSITION NUMBER (2)  NOT NULL , 
     CRT_LABEL VARCHAR2 (8)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_CRATE 
    ADD CONSTRAINT PK_CRATE PRIMARY KEY ( CRT_NUMBER ) ;


CREATE TABLE DQM_CHAMBER_FORMAT 
    ( 
     CHF_BIT NUMBER (2)  NOT NULL , 
     CHF_NAME VARCHAR2 (100)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_CHAMBER_FORMAT 
    ADD CONSTRAINT PK_DQM_CHAMBER_FORMAT PRIMARY KEY ( CHF_BIT ) ;


CREATE TABLE DQM_SEVERITY_RANGE 
    ( 
     SVR_SVG_ID NUMBER (5)  NOT NULL , 
     SVR_RANGE_LOW NUMBER (5,4) , 
     SVR_SEVERITY NUMBER (2)  NOT NULL , 
     SVR_RANGE_HIGH NUMBER (5,4) 
    ) LOGGING 
;



ALTER TABLE DQM_SEVERITY_RANGE 
    ADD CONSTRAINT PK_DQM_SEVERITY_RANGE PRIMARY KEY ( SVR_SVG_ID, SVR_SEVERITY ) ;


CREATE TABLE DQM_DDU 
    ( 
     DDU_NUMBER NUMBER (3)  NOT NULL , 
     DDU_LABEL VARCHAR2 (5)  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_DDU 
    ADD CONSTRAINT PK_DDU PRIMARY KEY ( DDU_NUMBER ) ;


CREATE TABLE DQM_DDU_FORMAT 
    ( 
     DUF_BIT NUMBER (2)  NOT NULL , 
     DUF_NAME VARCHAR2 (100)  NOT NULL , 
     DUF_SVG_ID NUMBER (5) 
    ) LOGGING 
;



ALTER TABLE DQM_DDU_FORMAT 
    ADD CONSTRAINT PK_DQM_DDU_FORMAT PRIMARY KEY ( DUF_BIT ) ;


CREATE TABLE DQM_RUN_CHAMBER 
    ( 
     RCH_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RCH_CHA_ID NUMBER (5)  NOT NULL , 
     RCH_EVENTS NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_WO_ALCT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_WO_CLCT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_WO_CFEB NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_ALCT_L1A_OUT_OFF_SYN NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_CLCT_L1A_OUT_OFF_SYN NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_DDU_L1A_OUT_OFF_SYN NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_ALCT_FIFO_FULL NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_ALCT_START_TIMEOUT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_ALCT_END_TIMEOUT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_TMB_FIFO_FULL NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_TMB_START_TIMEOUT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_TMB_END_TIMEOUT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_CFEB_ACTIVE_DAV_MISMATCH NUMBER (12) DEFAULT 0  NOT NULL , 
     RCH_BWORDS_FOUND NUMBER (12) DEFAULT 0  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_CHAMBER 
    ADD CONSTRAINT PK_DQM_RUN_CHAMBER PRIMARY KEY ( RCH_RUN_NUMBER, RCH_CHA_ID ) ;


CREATE TABLE DQM_SEVERITY_GROUP 
    ( 
     SVG_ID NUMBER (5)  NOT NULL , 
     SVG_NAME VARCHAR2 (100)  NOT NULL , 
     SVG_SIGFAIL NUMBER (5,2) DEFAULT 5.0  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_SEVERITY_GROUP 
    ADD CONSTRAINT PK_DQM_SEVERITY_GROUP PRIMARY KEY ( SVG_ID ) ;

ALTER TABLE DQM_SEVERITY_GROUP 
    ADD CONSTRAINT SVG_NAME_UK UNIQUE ( SVG_NAME ) 
;


CREATE TABLE DQM_RUN_DDU 
    ( 
     RDU_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RDU_DDU_NUMBER NUMBER (3)  NOT NULL , 
     RDU_EVENTS NUMBER (12)  NOT NULL , 
     RDU_OCC_ISLOW NUMBER (2) , 
     RDU_OCC_ISHOT NUMBER (2) 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_DDU 
    ADD CONSTRAINT PK_RUN_DDU_FORMAT_BITSET PRIMARY KEY ( RDU_RUN_NUMBER, RDU_DDU_NUMBER ) ;


CREATE TABLE DQM_DDU_TRAILER 
    ( 
     DUT_BIT NUMBER (2)  NOT NULL , 
     DUT_NAME VARCHAR2 (100)  NOT NULL , 
     DUT_SVG_ID NUMBER (5) 
    ) LOGGING 
;



ALTER TABLE DQM_DDU_TRAILER 
    ADD CONSTRAINT PK_DQM_DDU_TRAILER PRIMARY KEY ( DUT_BIT ) ;


CREATE TABLE DQM_RUN_CHAMBER_LAYER 
    ( 
     LAY_RUN_NUMBER NUMBER (10)  NOT NULL , 
     LAY_CHA_ID NUMBER (5)  NOT NULL , 
     LAY_LAYER NUMBER (1)  NOT NULL CHECK ( LAY_LAYER BETWEEN 1 AND 6) , 
     LAY_SCA_SUM NUMBER (12) DEFAULT 0  NOT NULL , 
     LAY_SCA_AVG_CFEB NUMBER (12) DEFAULT 0  NOT NULL , 
     LAY_SCA_AVG_CHANNEL NUMBER (12) DEFAULT 0  NOT NULL , 
     LAY_CMP_SUM NUMBER (12) DEFAULT 0  NOT NULL , 
     LAY_CMP_AVG_CFEB NUMBER (12) DEFAULT 0  NOT NULL , 
     LAY_CMP_AVG_CHANNEL NUMBER (12) DEFAULT 0  NOT NULL , 
     LAY_AFEB_DATA RAW (1) , 
     LAY_HV_SEG_DATA RAW (1) 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_CHAMBER_LAYER 
    ADD CONSTRAINT PK_DQM_RUN_CHAMBER_LAYER PRIMARY KEY ( LAY_LAYER, LAY_RUN_NUMBER, LAY_CHA_ID ) ;


CREATE TABLE DQM_RUN_CFEB 
    ( 
     RCC_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RCC_CHA_ID NUMBER (5)  NOT NULL , 
     RCC_CFEB NUMBER (1)  NOT NULL , 
     RCC_L1A_OUT_OFF_SYN NUMBER (12) DEFAULT 0  NOT NULL , 
     RCC_FIFO_FULL NUMBER (12) DEFAULT 0  NOT NULL , 
     RCC_START_TIMEOUT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCC_END_TIMEOUT NUMBER (12) DEFAULT 0  NOT NULL , 
     RCC_DAV_EVENTS NUMBER (12) DEFAULT 0  NOT NULL 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_CFEB 
    ADD CONSTRAINT PK_DQM_RUN_CFEB PRIMARY KEY ( RCC_RUN_NUMBER, RCC_CHA_ID, RCC_CFEB ) ;


CREATE TABLE DQM_RUN_DDU_FORMAT 
    ( 
     RDF_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RDF_DDU_NUMBER NUMBER (3)  NOT NULL , 
     RDF_DUF_BIT NUMBER (2)  NOT NULL , 
     RDF_VALUE NUMBER (12)  NOT NULL , 
     RDF_ISERR NUMBER (2) 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_DDU_FORMAT 
    ADD CONSTRAINT PK_DQM_RUN_DDU_FORMAT PRIMARY KEY ( RDF_RUN_NUMBER, RDF_DDU_NUMBER, RDF_DUF_BIT ) ;


CREATE TABLE DQM_RUN_CFEB_LAYER 
    ( 
     RCL_RUN_NUMBER NUMBER (10)  NOT NULL , 
     RCL_CHA_ID NUMBER (5)  NOT NULL , 
     RCL_LAYER NUMBER (1)  NOT NULL , 
     RCL_CFEB NUMBER (1)  NOT NULL , 
     RCL_SCA_SUM NUMBER (12) DEFAULT 0  NOT NULL , 
     RCL_CMP_SUM NUMBER (12) DEFAULT 0  NOT NULL , 
     RCL_SCA_CHANNEL_DATA RAW (1) , 
     RCL_CMP_CHANNEL_DATA RAW (1) 
    ) LOGGING 
;



ALTER TABLE DQM_RUN_CFEB_LAYER 
    ADD CONSTRAINT PK_DQM_RUN_CFEB_LAYER PRIMARY KEY ( RCL_LAYER, RCL_CFEB, RCL_RUN_NUMBER, RCL_CHA_ID ) ;



ALTER TABLE DQM_CRATE_SLOT 
    ADD CONSTRAINT DQM_CRATE_2_DQM_CRATE_SLOT FOREIGN KEY 
    ( 
     CSL_CRT_NUMBER
    ) 
    REFERENCES DQM_CRATE 
    ( 
     CRT_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_TRAILER 
    ADD CONSTRAINT DQM_SEVERITY_2_DDU_TRAILER FOREIGN KEY 
    ( 
     RDT_ISERR
    ) 
    REFERENCES DQM_SEVERITY 
    ( 
     SEV_ID
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_SEVERITY_RANGE 
    ADD CONSTRAINT DQM_SEVERITY_GROUP_2_RANGE FOREIGN KEY 
    ( 
     SVR_SVG_ID
    ) 
    REFERENCES DQM_SEVERITY_GROUP 
    ( 
     SVG_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_DDU_TRAILER 
    ADD CONSTRAINT DQM_SEVERITY_GROUP_2_TRAILER FOREIGN KEY 
    ( 
     DUT_SVG_ID
    ) 
    REFERENCES DQM_SEVERITY_GROUP 
    ( 
     SVG_ID
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_TRAILER 
    ADD CONSTRAINT DQM_RUN_DDU_2_DDU_TRAILER FOREIGN KEY 
    ( 
     RDT_RUN_NUMBER,
     RDT_DDU_NUMBER
    ) 
    REFERENCES DQM_RUN_DDU 
    ( 
     RDU_RUN_NUMBER,
     RDU_DDU_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CHAMBER 
    ADD CONSTRAINT DQM_RUN_2_DQM_RUN_CHAMBER FOREIGN KEY 
    ( 
     RCH_RUN_NUMBER
    ) 
    REFERENCES DQM_RUN 
    ( 
     RUN_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CFEB_LAYER 
    ADD CONSTRAINT DQM_CHAMBER_LAYER_2_CFEB_LAYER FOREIGN KEY 
    ( 
     RCL_LAYER,
     RCL_RUN_NUMBER,
     RCL_CHA_ID
    ) 
    REFERENCES DQM_RUN_CHAMBER_LAYER 
    ( 
     LAY_LAYER,
     LAY_RUN_NUMBER,
     LAY_CHA_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU 
    ADD CONSTRAINT DQM_SEVERITY_21_RUN_DDU FOREIGN KEY 
    ( 
     RDU_OCC_ISHOT
    ) 
    REFERENCES DQM_SEVERITY 
    ( 
     SEV_ID
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_FORMAT 
    ADD CONSTRAINT DQM_RUN_DDU_2_DQM_FORMAT FOREIGN KEY 
    ( 
     RDF_RUN_NUMBER,
     RDF_DDU_NUMBER
    ) 
    REFERENCES DQM_RUN_DDU 
    ( 
     RDU_RUN_NUMBER,
     RDU_DDU_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU 
    ADD CONSTRAINT DQM_SEVERITY_2_DQM_RUN_DDU FOREIGN KEY 
    ( 
     RDU_OCC_ISLOW
    ) 
    REFERENCES DQM_SEVERITY 
    ( 
     SEV_ID
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU 
    ADD CONSTRAINT DQM_RUN_2_DQM_RUN_DDU FOREIGN KEY 
    ( 
     RDU_RUN_NUMBER
    ) 
    REFERENCES DQM_RUN 
    ( 
     RUN_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_FORMAT 
    ADD CONSTRAINT DQM_SEVERITY_2_DDU_FORMAT FOREIGN KEY 
    ( 
     RDF_ISERR
    ) 
    REFERENCES DQM_SEVERITY 
    ( 
     SEV_ID
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_CHAMBER_HV_SEGMENT 
    ADD CONSTRAINT DQM_CHAMBER_2_HV_SEGMENT FOREIGN KEY 
    ( 
     CHS_CHA_ID
    ) 
    REFERENCES DQM_CHAMBER 
    ( 
     CHA_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CHAMBER_FORMAT 
    ADD CONSTRAINT DQM_RUN_CHAMBER_2_CHA_FORMAT FOREIGN KEY 
    ( 
     RCF_RUN_NUMBER,
     RCF_CHA_ID
    ) 
    REFERENCES DQM_RUN_CHAMBER 
    ( 
     RCH_RUN_NUMBER,
     RCH_CHA_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU 
    ADD CONSTRAINT DQM_DDU_2_DQM_RUN_DDU FOREIGN KEY 
    ( 
     RDU_DDU_NUMBER
    ) 
    REFERENCES DQM_DDU 
    ( 
     DDU_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_CHAMBER 
    ADD CONSTRAINT DQM_DDU_2_DQM_CHAMBER FOREIGN KEY 
    ( 
     CHA_DDU_NUMBER
    ) 
    REFERENCES DQM_DDU 
    ( 
     DDU_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_FORMAT 
    ADD CONSTRAINT DQM_DDU_FORMAT_2_DDU_FORMAT FOREIGN KEY 
    ( 
     RDF_DUF_BIT
    ) 
    REFERENCES DQM_DDU_FORMAT 
    ( 
     DUF_BIT
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CHAMBER 
    ADD CONSTRAINT DQM_CHAMBER_2_DQM_RUN_CHAMBER FOREIGN KEY 
    ( 
     RCH_CHA_ID
    ) 
    REFERENCES DQM_CHAMBER 
    ( 
     CHA_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CHAMBER_FORMAT 
    ADD CONSTRAINT DQM_CHAMBER_FMT_2_CHA_FORMAT FOREIGN KEY 
    ( 
     RCF_CHF_BIT
    ) 
    REFERENCES DQM_CHAMBER_FORMAT 
    ( 
     CHF_BIT
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_SEVERITY_RANGE 
    ADD CONSTRAINT DQM_SEVERITY_2_RANGE FOREIGN KEY 
    ( 
     SVR_SEVERITY
    ) 
    REFERENCES DQM_SEVERITY 
    ( 
     SEV_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_TRAILER 
    ADD CONSTRAINT DQM_DDU_TRAILER_2_DDU_TRAILER FOREIGN KEY 
    ( 
     RDT_DUT_BIT
    ) 
    REFERENCES DQM_DDU_TRAILER 
    ( 
     DUT_BIT
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_DDU_INPUT 
    ADD CONSTRAINT DQM_RUN_DDU_2_INPUT FOREIGN KEY 
    ( 
     RDI_RUN_NUMBER,
     RDI_DDU_NUMBER
    ) 
    REFERENCES DQM_RUN_DDU 
    ( 
     RDU_RUN_NUMBER,
     RDU_DDU_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_CHAMBER 
    ADD CONSTRAINT DQM_CRATE_SLOT_2_DQM_CHAMBER FOREIGN KEY 
    ( 
     CHA_CSL_SLOT,
     CHA_CRT_NUMBER
    ) 
    REFERENCES DQM_CRATE_SLOT 
    ( 
     CSL_SLOT,
     CSL_CRT_NUMBER
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_DDU_FORMAT 
    ADD CONSTRAINT DQM_SEVERITY_GROUP_2_FORMAT FOREIGN KEY 
    ( 
     DUF_SVG_ID
    ) 
    REFERENCES DQM_SEVERITY_GROUP 
    ( 
     SVG_ID
    ) 
    ON DELETE SET NULL 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CFEB 
    ADD CONSTRAINT DQM_RUN_CHAMBER_2_DQM_RUN_CFEB FOREIGN KEY 
    ( 
     RCC_RUN_NUMBER,
     RCC_CHA_ID
    ) 
    REFERENCES DQM_RUN_CHAMBER 
    ( 
     RCH_RUN_NUMBER,
     RCH_CHA_ID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE DQM_RUN_CHAMBER_LAYER 
    ADD CONSTRAINT DQM_RUN_CHAMBER_2_LAYER FOREIGN KEY 
    ( 
     LAY_RUN_NUMBER,
     LAY_CHA_ID
    ) 
    REFERENCES DQM_RUN_CHAMBER 
    ( 
     RCH_RUN_NUMBER,
     RCH_CHA_ID
    ) 
    NOT DEFERRABLE 
;


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

-- Oracle SQL Developer Modeling Summary Report: 
-- 
-- CREATE TABLE                            21
-- CREATE INDEX                             0
-- ALTER TABLE                             26
-- CREATE VIEW                              0
-- CREATE PROCEDURE                         0
-- CREATE TRIGGER                           0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE SNAPSHOT                          0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
