<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:exs="http://www.cern.ch/cms/csc/exsys/gui">
    
    <body>
        
        <ui:composition template="/WEB-INF/layout/main.xhtml">
            
            <ui:define name="content">

                <p><h1>Create New Fact</h1></p>
                <ice:form id="factClassForm">
                    <ice:outputText value="Fact Type:"/>
                    <ice:selectOneMenu id="factClassSelector"
                                       value="#{NewFact.factType}" partialSubmit="true"
                                       converter="#{NewFact.factClassListConverter}">
                        <f:selectItems value="#{NewFact.factClassList}"/>
                    </ice:selectOneMenu>
                    <h:message for="factClassSelector" styleClass="error"/>
                </ice:form>
                
                <ice:form id="newFactForm">
                    <ice:outputText value="Source: "/>
                    <ice:selectOneMenu value="#{NewFact.factSource}" partialSubmit="true"
                                       converter="#{NewFact.factSourceConverter}">
                        <f:selectItems value="#{NewFact.factSourcesList}"/>
                    </ice:selectOneMenu>
                    <exs:entityForm editor="#{NewFact.editor}" manager="#{NewFact}"/>
                    <ice:commandButton type="submit" value="Create and Send" action="#{NewFact.doSave}" rendered="#{NewFact.editor.parentEditor == null}"/>
                </ice:form>
                
            </ui:define>
        </ui:composition>
        
    </body>
</html>
