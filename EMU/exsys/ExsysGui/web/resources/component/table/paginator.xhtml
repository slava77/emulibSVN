<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:cc="http://java.sun.com/jsf/composite">

    <cc:interface>
        <cc:attribute name="table" type="org.cern.cms.csc.exsys.gui.component.BeanTable" required="true"/>
    </cc:interface>

    <cc:implementation>

        <ice:panelGrid columns="10" border="0">

            <ice:commandButton
                image="/xmlhttp/css/xp/css-images/arrow-first.gif"
                actionListener="#{cc.attrs.table.firstPageListener}"
                disabled="#{cc.attrs.table.pageIndex == 1}"
                title="First Page" />

            <ice:commandButton
                image="/xmlhttp/css/xp/css-images/arrow-fr.gif"
                actionListener="#{cc.attrs.table.fastbackwardPageListener}"
                disabled="#{cc.attrs.table.pageIndex == 1}"
                title="Fast Backward" />

            <ice:commandButton
                image="/xmlhttp/css/xp/css-images/arrow-previous.gif"
                actionListener="#{cc.attrs.table.prevPageListener}"
                disabled="#{cc.attrs.table.pageIndex == 1}"
                title="Previous Page" />

            <ice:panelGroup>
                <ice:outputFormat value="{0} items. Show {1} from {2} to {3}. Page {4} / {5}">
                    <f:param value="#{cc.attrs.table.dataCount}"/>
                    <f:param value="#{cc.attrs.table.dataSize}"/>
                    <f:param value="#{cc.attrs.table.dataFirstIndex}"/>
                    <f:param value="#{cc.attrs.table.dataLastIndex}"/>
                    <f:param value="#{cc.attrs.table.pageIndex}"/>
                    <f:param value="#{cc.attrs.table.pageCount}"/>
                </ice:outputFormat>
            </ice:panelGroup>

            <ice:commandButton
                image="/xmlhttp/css/xp/css-images/arrow-next.gif"
                actionListener="#{cc.attrs.table.nextPageListener}"
                title="Next Page" />

            <ice:commandButton
                image="/xmlhttp/css/xp/css-images/arrow-ff.gif"
                actionListener="#{cc.attrs.table.fastforwardPageListener}"
                title="Fast Forward" />

            <ice:commandButton
                image="/xmlhttp/css/xp/css-images/arrow-last.gif"
                actionListener="#{cc.attrs.table.lastPageListener}"
                title="Last Page" />

            <ice:panelGrid columns="2" cellpadding="0" cellspacing="0">
                <ice:outputLabel value="Page"/>
                <ice:inputText value="#{cc.attrs.table.pageIndex}"
                               style="margin-left: 5px; margin-top: 0px; margin-right: 5px; margin-bottom: 0px; width: 41px"
                               title="Jump to page">
                    <f:converter converterId="javax.faces.Integer"/>
                </ice:inputText>
            </ice:panelGrid>

            <ice:panelGrid columns="2" cellpadding="0" cellspacing="0">
                <ice:outputLabel value="Size"/>
                <ice:selectOneMenu value="#{cc.attrs.table.pageSize}"
                                   partialSubmit="true"
                                   style="margin-left: 5px; margin-top: 0px; margin-right: 5px; margin-bottom: 0px; width: 41px"
                                   title="Select page size">
                    <f:selectItems value="#{cc.attrs.table.pageSizeItems}"/>
                </ice:selectOneMenu>
            </ice:panelGrid>

        </ice:panelGrid>

    </cc:implementation>
</html>