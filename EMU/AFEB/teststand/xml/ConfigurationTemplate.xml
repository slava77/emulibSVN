<?xml version="1.0" encoding="UTF-8"?>
<c:configuration xmlns:c="http://cms.cern.ch/emu/afeb/teststand/configuration" name="AFEB_Example" dateTime="2011-04-29 12:00:00">

  <meta:data xmlns:meta="http://cms.cern.ch/emu/afeb/teststand/metadata">
    <meta:tag name="c:testedDevice">
      <meta:attr name="type" value="AD16" description="16-channel pre-amp, shaper and discriminator board"/>
      <meta:attr name="type" value="CMP16" description="16-channel pre-amp, shaper and discriminator chip"/>
      <meta:attr name="nChannels" value="16" description="Number of channels."/>
      <meta:attr name="nominalInternalCapacitance" units="pF" description="The nominal internal capacitance [pF]."/>
      <meta:attr name="tdcSlot" minValue="1" maxValue="25" description="The crate slot in which the TDC reading out this device is inserted."/>
      <meta:attr name="tdcSocket" value="1" description="The TDC's upper input socket (channels 1-16)."/>
      <meta:attr name="tdcSocket" value="2" description="The TDC's lower input socket (channels 17-32)."/>
      <meta:attr name="signalConverterSlot" minValue="1" maxValue="25" description="The crate slot in which the signal converter / threshold setter for this device is inserted."/>
      <meta:attr name="signalConverterSocket" value="1" description="The signal converter's / threshold setter's upper input socket."/>
      <meta:attr name="signalConverterSocket" value="2" description="The signal converter's / threshold setter's lower input socket."/>
      <meta:attr name="pulseGeneratorSlot" minValue="1" maxValue="25" description="The crate slot in which the pulse generator for this device is inserted."/>
      <meta:attr name="pulseGeneratorSocket" value="1" description="The pulse generator's upper output socket for common external pulses."/>
      <meta:attr name="pulseGeneratorSocket" value="2" description="The pulse generator's lower output socket for common external pulses."/>
    </meta:tag>
    <meta:tag name="c:crate">
      <meta:attr name="number" minValue="1" maxValue="4" description="The crate number to be set on the crate controller."/>
    </meta:tag>
    <meta:tag name="c:module">
      <meta:attr name="name" value="LeCroy3377" description="LeCroy Model 3377 32-channel CAMAC TDC"/>
      <meta:attr name="name" value="LE32" description="CAMAC 32-channel Converter and 2-channel Pulse and Threashold Generator"/>
      <meta:attr name="name" value="Jorway73A" description="SCSI Bus CAMAC Crate Controller, vendor: JORWAY model: 73A"/>
      <meta:attr name="type" value="TDC" description="Time-to-Digital Converter"/>
      <meta:attr name="type" value="SignalConverter" description="LVDS-to-ECL Signal Converter, Threshold Generator and Pulse Generator to the device's internal capacitor."/>
      <meta:attr name="type" value="PulseGenerator" description="Adjustable height pulse generator to external capacitor."/>
      <meta:attr name="type" value="CrateController" description="Crate controller."/>
    </meta:tag>
    <meta:tag name="c:inputs">
      <meta:attr name="adaptorType" value="10AD16A" description="10-socket adapter for AD16 boards, see 'Adaptors' table for details."/>
      <meta:attr name="adaptorType" value="2AD16A" description="2-socket adapter for AD16 boards,  see 'Adaptors' table for details."/>
      <meta:attr name="adaptorType" value="2CMP16A" description="2-socket adapter for CMP16 chips,  see 'Adaptors' table for details."/>
    </meta:tag>
    <meta:tag name="c:condition">
      <meta:attr name="type" value="count_vs_dac" description="Efficiency vs pulse amplitude"/>
      <meta:attr name="type" value="time_vs_dac" description="Time vs. pulse amplitude"/>
      <meta:attr name="enabled" value="yes" description="Perform this measurement."/>
      <meta:attr name="enabled" value="no" description="Skip this measurement."/>
      <meta:attr name="" value="" description=""/>
      <meta:attr name="" value="" description=""/>
    </meta:tag>
    <meta:tag name="c:PulseGenerator">
      <meta:attr name="capacitor" value="internal" description="Inject pulses through the device's internal capacitor."/>
      <meta:attr name="capacitor" value="external" description="Inject pulses through the external capacitor."/>
      <meta:attr name="amplitudeMin" units="DAC" description="The lowest pulse amplitude in DAC units."/>
      <meta:attr name="amplitudeMax" units="DAC" description="The highest pulse amplitude in DAC units."/>
      <meta:attr name="amplitudeStep" units="DAC" description="The pulse amplitude increment in DAC units."/>
      <meta:attr name="nPulses" description="The number of pulses at each amplitude."/>
    </meta:tag>
    <meta:tag name="c:SignalConverter">
      <meta:attr name="thresholdValue" units="DAC" description="The device's threshold is to be set to this value expressed in DAC units."/>
    </meta:tag>
    <meta:tag name="c:">
      <meta:attr name="" units="" description=""/>
    </meta:tag>
    <meta:tag name="c:TDC">
      <meta:attr name="timeMin" units="TDC" description="The minimum TDC time recorded in TDC units. TDC resolution is 0.5 ns, thus the maximum allowed value of 1023 (10-bit data words) corresponds to 511 ns."/>
      <meta:attr name="timeMax" units="TDC" description="The maximum TDC time recorded in TDC units. TDC resolution is 0.5 ns, thus the maximum allowed value of 1023 (10-bit data words) corresponds to 511 ns."/>
    </meta:tag>
    <meta:tag name="c:thresholdAbsResid" description="max |threshold residual|">
      <meta:attr name="high" units="DAC" description="The upper limit to the maximum absolute residual (deviation from the average over the channels) of the measured threshold."/>
    </meta:tag>
    <meta:tag name="c:noise" description="max noise">
      <meta:attr name="high" units="DAC" description="The upper limit to the maximum measured noise."/>
    </meta:tag>
    <meta:tag name="c:meanTimeSpan" description="max span of mean times">
      <meta:attr name="high" units="TDC" description="The upper limit to the maximum span of channels' mean times."/>
    </meta:tag>
    <meta:tag name="c:slewingTime" description="max slewing time">
      <meta:attr name="high" units="TDC" description="The upper limit to the maximum slewing time."/>
    </meta:tag>
  </meta:data>

  <c:testedDevice type="AD16" nChannels="16" nominalInternalCapacitance="0.25"/>

  <c:crate number="1">
    <c:module slot="1"  name=""           id=""       type=""/>
    <c:module slot="2"  name=""           id=""       type=""/>
    <c:module slot="3"  name="LE32"       id="7"      type="PulseGenerator"/>
    <c:module slot="4"  name=""           id=""       type=""/>
    <c:module slot="5"  name=""           id=""       type=""/>
    <c:module slot="6"  name="LeCroy3377" id=""       type="TDC"/>
    <c:module slot="7"  name=""           id=""       type=""/>
    <c:module slot="8"  name="LE32"       id="5"      type="SignalConverter"/>
    <c:module slot="9"  name="LeCroy3377" id=""       type="TDC"/>
    <c:module slot="10" name=""           id=""       type=""/>
    <c:module slot="11" name="LE32"       id="12"     type="SignalConverter"/>
    <c:module slot="12" name="LeCroy3377" id=""       type="TDC"/>
    <c:module slot="13" name=""           id=""       type=""/>
    <c:module slot="14" name="LE32"       id="9"      type="SignalConverter"/>
    <c:module slot="15" name="LeCroy3377" id=""       type="TDC"/>
    <c:module slot="16" name=""           id=""       type=""/>
    <c:module slot="17" name="LE32"       id="13"     type="SignalConverter"/>
    <c:module slot="18" name=""           id=""       type=""/>
    <c:module slot="19" name=""           id=""       type=""/>
    <c:module slot="20" name=""           id=""       type=""/>
    <c:module slot="21" name=""           id=""       type=""/>
    <c:module slot="22" name=""           id=""       type=""/>
    <c:module slot="23" name=""           id=""       type=""/>
    <c:module slot="24" name=""           id=""       type=""/>
    <c:module slot="25" name="Jorway73A"  id=""       type="CrateController"/>
  </c:crate>

  <c:inputs adaptorType="10AD16A" adaptorId="2">
    <c:testedDevice socket="1"  id="" tdcSlot="6"   tdcSocket="1" signalConverterSlot="8"  signalConverterSocket="1" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="2"  id="" tdcSlot="6"   tdcSocket="2" signalConverterSlot="8"  signalConverterSocket="2" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="3"  id="" tdcSlot="9"   tdcSocket="1" signalConverterSlot="11" signalConverterSocket="1" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="4"  id="" tdcSlot="9"   tdcSocket="2" signalConverterSlot="11" signalConverterSocket="2" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="5"  id="" tdcSlot="12"  tdcSocket="1" signalConverterSlot="14" signalConverterSocket="1" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="6"  id="" tdcSlot="12"  tdcSocket="2" signalConverterSlot="14" signalConverterSocket="2" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="7"  id="" tdcSlot="15"  tdcSocket="1" signalConverterSlot="17" signalConverterSocket="1" pulseGeneratorSlot="3" pulseGeneratorSocket="1"/>
    <c:testedDevice socket="8"  id="" tdcSlot="15"  tdcSocket="2" signalConverterSlot="17" signalConverterSocket="2" pulseGeneratorSlot="3"  pulseGeneratorSocket="1"/>
    <c:testedDevice socket="9"  id=""   tdcSlot=""  tdcSocket=""  signalConverterSlot=""  signalConverterSocket=""  pulseGeneratorSlot=""  pulseGeneratorSocket=""/>
    <c:testedDevice socket="10" id=""   tdcSlot=""  tdcSocket=""  signalConverterSlot=""  signalConverterSocket=""  pulseGeneratorSlot=""  pulseGeneratorSocket=""/>
  </c:inputs>

  <c:measurements>
    <c:condition name="Threshold scan with external C" type="count_vs_dac" enabled="yes">
      <c:PulseGenerator amplitudeMin="20" amplitudeMax="80" amplitudeStep="2" nPulses="400" capacitor="external"/>
      <c:SignalConverter thresholdValue="46"/>
      <c:TDC timeMin="10" timeMax="300"/>
    </c:condition>
    <c:condition name="Threshold scan with external C" type="count_vs_dac" enabled="yes">
      <c:PulseGenerator amplitudeMin="60" amplitudeMax="130" amplitudeStep="2" nPulses="400" capacitor="external"/>
      <c:SignalConverter thresholdValue="92"/>
      <c:TDC timeMin="10" timeMax="300"/>
    </c:condition>
    <c:condition name="Threshold scan with internal C" type="count_vs_dac" enabled="yes">
      <c:PulseGenerator amplitudeMin="20" amplitudeMax="90" amplitudeStep="2" nPulses="400" capacitor="internal"/>
      <c:SignalConverter thresholdValue="46"/>
      <c:TDC timeMin="10" timeMax="300"/>
    </c:condition>
    <c:condition name="Time response vs. pulse height" type="time_vs_dac" enabled="yes">
      <c:PulseGenerator amplitudeMin="0" amplitudeMax="1000" amplitudeStep="20" nPulses="400" capacitor="external"/>
      <c:SignalConverter thresholdValue="46"/>
      <c:TDC timeMin="50" timeMax="150"/>
    </c:condition>
  </c:measurements>

  <c:selection>
    <c:thresholdAbsResid high="6.0"/>
    <c:noise             high="4.0"/>
    <c:meanTimeSpan      high="12.0"/>
    <c:slewingTime       high="8.0"/>
  </c:selection>

</c:configuration>
