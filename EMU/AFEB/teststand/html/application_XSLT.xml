<?xml version="1.0"?>

<xsl:transform 
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
    xmlns:a="http://cms.cern.ch/emu/afeb/teststand/application" 
    version="1.0">

  <xsl:output method="html" indent="yes"/>

  <xsl:template match="//a:application">
    <table class="app">
      <tr>
	<td><xsl:value-of select="@a:state"/></td>
	<td/>
	<td><xsl:value-of select="@a:dateTime"/></td>
      </tr>
      <tr>
	<td>
	  <input type="submit" name="fsm" value="Configure">
	    <xsl:if test="@a:state!='Halted'"><xsl:attribute name="disabled">disabled</xsl:attribute></xsl:if>
	  </input>
	</td>
	<td>
	  <input type="submit" name="fsm" value="Enable">
	    <xsl:if test="@a:state!='Configured'"><xsl:attribute name="disabled">disabled</xsl:attribute></xsl:if>
	  </input>
	</td>
	<td>
	  <input type="submit" name="fsm" value="Halt">
	    <xsl:if test="@a:state='Halted'"><xsl:attribute name="disabled">disabled</xsl:attribute></xsl:if>
	  </input>
	</td>
      </tr>
    </table>
  </xsl:template>  

</xsl:transform>
