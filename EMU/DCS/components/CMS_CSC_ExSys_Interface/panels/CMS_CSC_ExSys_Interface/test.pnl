V 11
1
LANG:1 0 
PANEL,-1 -1 403 678 N "_3DFace" 0
E E E E E 1 -1 -1 0  30 30
""0  1
E "#uses \"CMS_CSC_ExSys_Interface/exsysInterface.ctl\"
#uses \"CMS_CSC_ExSys_Interface/exsysUtil.ctl\"
#uses \"CMS_CSC_ExSys_Interface/facts/lvFact.ctl\"
#uses \"CMS_CSC_ExSys_Interface/facts/alertFact.ctl\"" 0
 2
"CBRef" "1"
"EClose" E
""
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
1
LANG:1 0 
13 0
"PUSH_BUTTON1"
""
1 30 100 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
0 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  28 98 372 132

T 
1
LANG:1 37 Send 10000 facts using auto-packaging
"main()
{
  dyn_string ex;
  time t0;
  emu_debugFuncStart(\"send10000Facts\", t0);
  
  dyn_string paramNames = makeDynString(\"crateNumber\");
  dyn_string paramValues = makeDynString(\"1\");
  
  for (int i=0; i < 10000; i++) {
    exsys_sendFact(\"DDUFMMResetFact\", t0, \"FEDCrate1\", false, EXSYS_FACT_SEVERITY_DEBUG,
                     \"dummy fact #\" + i, paramNames, paramValues, ex);
    if (emu_checkException(ex)) { return; }
    
    if (i % 100 == 0) {
      emu_info(\"send10000Facts progress: \" + i + \"/10000\");
    }
  }
  
  emu_debugFuncEnd(\"send10000Facts\", t0);
}" 0
 E E E
13 2
"PUSH_BUTTON2"
""
1 30 10 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
2 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  28 8 372 42

T 
1
LANG:1 13 Send one fact
"main()
{
  dyn_string ex;
  time t0 = getCurrentTime();
  emu_debugFuncStart(\"send1FactNoAutoPackaging\", t0);
  
  dyn_string paramNames = makeDynString(\"crateNumber\");
  dyn_string paramValues = makeDynString(\"1\");
  
  exsys_sendFact(\"DDUFMMResetFact\", t0, \"FEDCrate1\", false, EXSYS_FACT_SEVERITY_DEBUG,
                   \"dummy fact\", paramNames, paramValues, ex, false);
  if (emu_checkException(ex)) { return; }

  emu_debugFuncEnd(\"send1FactNoAutoPackaging\", t0);
}" 0
 E E E
13 3
"PUSH_BUTTON3"
""
1 30 150 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
3 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  28 148 372 182

T 
1
LANG:1 48 Send 10000 facts using auto-packaging (threaded)
"main()
{
  dyn_string ex;
  time t0;
  emu_debugFuncStart(\"send10000ThreadedFacts\", t0);
  
  for (int i=0; i < 500; i++) {
    startThread(\"send20FactsThread\", i);
  }
  
  emu_debugFuncEnd(\"send10000ThreadedFacts\", t0);
}

void send20FactsThread(int threadNum) {
  dyn_string ex;
  time t0;

  dyn_string paramNames = makeDynString(\"crateNumber\");
  dyn_string paramValues = makeDynString(\"1\");

  for (int i=0; i < 20; i++) {
    exsys_sendFact(\"DDUFMMResetFact\", t0, \"FEDCrate1\", false, EXSYS_FACT_SEVERITY_DEBUG,
                     \"dummy fact. thread num = \" + threadNum + \", fact # within the thread = \" + i, paramNames, paramValues, ex);
    if (emu_checkException(ex)) { return; }
  }
}" 0
 E E E
13 5
"PUSH_BUTTON5"
""
1 9.999999999999991 300 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
5 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  8 298 392 352

T 
1
LANG:1 55 send "This project" -> ME+1/2/3 communication lost fact
"main()
{
  dyn_string ex;
  time t0 = getCurrentTime();
  
  dyn_string paramNames = makeDynString(\"source\", \"status\");
  dyn_string paramValues = makeDynString(\"ME+1/2/3\", \"NO_COMMUNICATION\");
  
  exsys_sendFact(\"DcsCommunicationStatusFact\", t0, \"pvss_cms_csc_dcs_08\", false, EXSYS_FACT_SEVERITY_DEBUG,
                   \"test no communication fact\", paramNames, paramValues, ex, false);
  if (emu_checkException(ex)) { return; }
}" 0
 E E E
13 6
"PUSH_BUTTON6"
""
1 10 380 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
6 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  8 378 392 422

T 
1
LANG:1 25 Start sending LV currents
"main()
{
  dyn_string ex;
  dyn_string lvDps = exsys_getLvDps(ex);
  if (emu_checkException(ex)) { return; }
  dpConnect(\"sendLvFacts\", true, lvDps[1] + \".update_value\");
}

void sendLvFacts(string dp, int value) {
  dyn_string ex;
  exsys_sendAllLvFacts(ex);
  if (emu_checkException(ex)) { return; }
}" 0
 E E E
13 7
"PUSH_BUTTON7"
""
1 10 440 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
7 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  8 438 392 482

T 
1
LANG:1 25 Start sending alert facts
"main() {
  dyn_string ex;
  exsys_startAlertFactDelivery(ex);
  if (emu_checkException(ex)) { return; }
}" 0
 E E E
30 8
"FRAME1"
""
1 20 512 E E E 1 E 1 E N "_WindowText" E N {0,0,0} E E
 E E
8 0 0 0 0 0
E E E
1
1
LANG:1 0 

1
"dashclr"N "_Transparent"
E E 0 0 1 0 1 E U  0 E 20 512 381 661
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0 1
LANG:1 13 trip recovery
13 9
"PUSH_BUTTON8"
""
1 40 550 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
9 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  38 548 182 592

T 
1
LANG:1 8 Force ON
"const string EXSYS_COMMAND_DP = \"cms_csc_dcs_09:ExSys_command.value\";

main()
{
  dpSetWait(EXSYS_COMMAND_DP, \"hvChannelForceOn|CscHighVoltage/CSC_ME_P21_C13/FastMon.channels.ch12\");
  dpSetWait(EXSYS_COMMAND_DP, \"\");
}" 0
 E E E
13 10
"PUSH_BUTTON9"
""
1 220 550 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
10 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  218 548 362 592

T 
1
LANG:1 8 Lower HV
"const string EXSYS_COMMAND_DP = \"cms_csc_dcs_09:ExSys_command.value\";

main()
{
  dpSetWait(EXSYS_COMMAND_DP, \"hvChannelVset|CscHighVoltage/CSC_ME_P21_C13/FastMon.channels.ch12|3500\");
  dpSetWait(EXSYS_COMMAND_DP, \"\");
}" 0
 E E E
13 11
"PUSH_BUTTON10"
""
1 130 600 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
11 0 0 0 0 0
E E E
0
1
LANG:1 0 

0
1
LANG:1 30 Sans Serif,9,-1,5,50,0,0,0,0,0
0  128 598 272 642

T 
1
LANG:1 7 Disable
"const string EXSYS_COMMAND_DP = \"cms_csc_dcs_09:ExSys_command.value\";

main()
{
  dpSetWait(EXSYS_COMMAND_DP, \"hvChannelDisable|CscHighVoltage/CSC_ME_P21_C13/FastMon.channels.ch12\");
  dpSetWait(EXSYS_COMMAND_DP, \"\");
}" 0
 E E E
0
LAYER, 1 
1
LANG:1 0 
0
LAYER, 2 
1
LANG:1 0 
0
LAYER, 3 
1
LANG:1 0 
0
LAYER, 4 
1
LANG:1 0 
0
LAYER, 5 
1
LANG:1 0 
0
LAYER, 6 
1
LANG:1 0 
0
LAYER, 7 
1
LANG:1 0 
0
0
